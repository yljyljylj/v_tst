{"remainingRequest":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\src\\views\\rules\\Addform.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\src\\views\\rules\\Addform.vue","mtime":1639465235727},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639036037315},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\babel-loader\\lib\\index.js","mtime":1639036038164},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639036037315},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\vue-loader\\lib\\index.js","mtime":1639036038372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJBZGRmb3JtIiwKICAgIHByb3BzOlsnZm9ybScsJ2FkZF9kaWFsb2cnXSwKCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOnRoaXMuYWRkX2RpYWxvZywKICAgICAgICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxODBweCcsCiAgICAgICAgICAgIHRvcExpc3Q6W10sCiAgICAgICAgICAgIHNlY29uZExpc3Q6W10sCiAgICAgICAgICAgIGlzU2Vjb25kOmZhbHNlLAogICAgICAgICAgICBsZXZlbDowCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgdGhpcy5nZXRUb3BSdWxlKCkKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBhZGRSdWxlcygpewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pCiAgICAgICAgfSwKICAgICAgICBxdWFueGlhbigpewogICAgICAgICAgICBpZih0aGlzLmZvcm0ucGlkPT0wKXsKICAgICAgICAgICAgICAgIHRoaXMuaXNTZWNvbmQ9ZmFsc2UKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcwMDAwMCcpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5pc1NlY29uZD10cnVlCiAgICAgICAgICAgICAgICB0aGlzLmdldFNlY29uZExpc3QoKQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+S4jeetieS6jjAnKQogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgcXVhbnhpYW4yKCl7CiAgICAgICAgICAgIGlmKHRoaXMuZm9ybS5waWQ9PTApewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJzAwMDAwJykKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5LiN562J5LqOMCcpCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBhc3luYyBnZXRTZWNvbmRMaXN0KCl7CiAgICAgICAgICAgIGNvbnN0IHtkYXRhOnJlc309YXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCdhcGkvYXV0aC9zZWNvbmRMaXN0Jyx7cGFyYW1zOntwaWQ6dGhpcy5mb3JtLnBpZH19KQogICAgICAgICAgICB0aGlzLnNlY29uZExpc3Q9cmVzLmRhdGEKICAgICAgICB9LAogICAgICAgIHJlc2V0QWRkRGlhbG9nKGUpewogICAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VEaWFsb2cnLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIG9wZW5EaWFsb2c6IGZhbHNlCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VEaWFsb2cnLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICBvcGVuRGlhbG9nOiBmYWxzZQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ2V0VG9wUnVsZSgpewogICAgICAgICAgICBjb25zdCB7ZGF0YTpyZXN9PWF3YWl0IHRoaXMuJGF4aW9zLmdldCgnYXBpL2F1dGgvZ2V0VG9wUnVsZScpCiAgICAgICAgICAgIHRoaXMudG9wTGlzdD1yZXMuZGF0YQogICAgICAgIH0sCiAgICB9Cn0K"},{"version":3,"sources":["Addform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Addform.vue","sourceRoot":"src/views/rules","sourcesContent":["<template>\r\n    <el-dialog title=\"新增权限\" :visible.sync=\"dialogVisible\">\r\n        <el-form :model=\"form\">\r\n            <el-form-item label=\"权限标题\" :label-width=\"formLabelWidth\"\r\n                          prop=\"title\"\r\n                          :rules=\"[{ required: true, message: '权限标题不能为空'},]\">\r\n                <el-input v-model.trim=\"form.title\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"一级权限\" :label-width=\"formLabelWidth\">\r\n                <el-select v-model=\"form.pid\" placeholder=\"请选择父级权限\" @change=\"quanxian\">\r\n                    <el-option label=\"添加一级权限\" :value=\"0\"></el-option>\r\n                    <el-option v-for=\"list in topList\" :label=\"list.title\" :value=\"list.id\" :key=\"list.id\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item v-if=\"isSecond\" label=\"二级权限\" :label-width=\"formLabelWidth\">\r\n                <el-select v-model=\"form.pid\" placeholder=\"请选择父级权限\" @change=\"quanxian2\">\r\n                    <el-option label=\"二级权限\" :value=\"1\"></el-option>\r\n                    <el-option v-for=\"list in secondList\" :label=\"list.title\" :value=\"list.id\" :key=\"list.id\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"权限路径\" :label-width=\"formLabelWidth\">\r\n                <el-input v-model.trim=\"form.path\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"权限状态\" :label-width=\"formLabelWidth\">\r\n                <el-radio v-model=\"form.status\" :label=\"1\">开启</el-radio>\r\n                <el-radio v-model=\"form.status\" :label=\"0\">禁用</el-radio>\r\n            </el-form-item>\r\n            <el-form-item label=\"icon样式\" :label-width=\"formLabelWidth\">\r\n                <el-input v-model.trim=\"form.css\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"权限描述\" :label-width=\"formLabelWidth\">\r\n                <el-input type=\"textarea\" v-model=\"form.condition\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"resetAddDialog(false)\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"addRules\">确 定</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Addform\",\r\n        props:['form','add_dialog'],\r\n\r\n        data(){\r\n            return{\r\n                dialogVisible:this.add_dialog,\r\n                formLabelWidth: '180px',\r\n                topList:[],\r\n                secondList:[],\r\n                isSecond:false,\r\n                level:0\r\n            }\r\n        },\r\n        created(){\r\n          this.getTopRule()\r\n        },\r\n        methods:{\r\n            addRules(){\r\n                console.log(this.form)\r\n            },\r\n            quanxian(){\r\n                if(this.form.pid==0){\r\n                    this.isSecond=false\r\n                    console.log('00000')\r\n                }else{\r\n                    this.isSecond=true\r\n                    this.getSecondList()\r\n                    // console.log('不等于0')\r\n                }\r\n\r\n            },\r\n            quanxian2(){\r\n                if(this.form.pid==0){\r\n                    console.log('00000')\r\n                }else{\r\n                    console.log('不等于0')\r\n                }\r\n\r\n            },\r\n            async getSecondList(){\r\n                const {data:res}=await this.$axios.get('api/auth/secondList',{params:{pid:this.form.pid}})\r\n                this.secondList=res.data\r\n            },\r\n            resetAddDialog(e){\r\n                if (e) {\r\n                    this.$emit('closeDialog', {\r\n                        type: 'success',\r\n                        openDialog: false\r\n                    })\r\n                } else {\r\n                    this.$emit('closeDialog', {\r\n                        type: 'error',\r\n                        openDialog: false\r\n                    })\r\n                }\r\n            },\r\n            async getTopRule(){\r\n                const {data:res}=await this.$axios.get('api/auth/getTopRule')\r\n                this.topList=res.data\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}