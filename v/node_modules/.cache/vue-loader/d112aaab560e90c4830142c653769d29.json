{"remainingRequest":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\src\\components\\aritcle\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\src\\components\\aritcle\\List.vue","mtime":1639308167858},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639133824078},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\babel-loader\\lib\\index.js","mtime":1639133822474},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639133824078},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\vue-loader\\lib\\index.js","mtime":1639133834224}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdlIGZyb20gJy4uL2NvbW1vbi9QYWdlJwppbXBvcnQgQ3J1bWJzIGZyb20gJy4uL2NvbW1vbi9DcnVtYnMnCmltcG9ydCBFZGl0IGZyb20gJy4vRWRpdCcKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkxpc3QiLAogICAgY29tcG9uZW50czp7UGFnZSxDcnVtYnMsRWRpdH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIOWIhumhteaQnOe0ouaVsOaNrgogICAgICAgICAgICBxdWVyeUluZm86ewogICAgICAgICAgICAgICAgcXVlcnk6JycsCiAgICAgICAgICAgICAgICBwYWdlOjEsCiAgICAgICAgICAgICAgICBsaW1pdDo1CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhZ2VTaXplczpbMSw1LDEwLDIwXSwKICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgICAgICAgdG90YWw6MCwKCiAgICAgICAgICAgIC8vIOmdouWMheWxkeWvvOiIquaVsOaNrgogICAgICAgICAgICBjcnU6Wyfmlofnq6DnrqHnkIYnLCfmlofnq6DliJfooagnXSwKCiAgICAgICAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOmZhbHNlLAogICAgICAgICAgICAvLyDnvJbovpEKICAgICAgICAgICAgZWRpdGRpYWxvZ0Zvcm1WaXNpYmxlOmZhbHNlLAogICAgICAgICAgICBmb3JtTGFiZWxXaWR0aDonMTAwcHgnLAogICAgICAgICAgICBlZGl0Zm9ybXM6ewogICAgICAgICAgICAgICAgaWQ6MCwKICAgICAgICAgICAgICAgIHRpdGxlOicnLAogICAgICAgICAgICAgICAgY29udGVudDonJywKICAgICAgICAgICAgICAgIHNvcnQ6MSwKICAgICAgICAgICAgICAgIHN0YXR1czoxCiAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgc2F2ZWZvcm06ewogICAgICAgICAgICAgICAgdGl0bGU6JycsCiAgICAgICAgICAgICAgICBjb250ZW50OicnLAogICAgICAgICAgICAgICAgc29ydDoxLAogICAgICAgICAgICAgICAgc3RhdHVzOjEKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIHNhdmVydWxlczogewogICAgICAgICAgICAgICAgdGl0bGU6IFsKICAgICAgICAgICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfmoIfpopjkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cid9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFsKICAgICAgICAgICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflhoXlrrnkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnY2hhbmdlJ30KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgLy8g5YiG6aG16LCD55SoCiAgICAgICAgcGFnZXMoaW5mbyl7CiAgICAgICAgICAgIHRoaXMucXVlcnlJbmZvLmxpbWl0PWluZm8ubGltaXQKICAgICAgICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZT1pbmZvLnBhZ2UKICAgICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICAgICAgfSwKCiAgICAgICAgc2VhcmNoKCl7CiAgICAgICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ2V0VXNlckxpc3QoKXsKICAgICAgICAgIGNvbnN0IHtkYXRhOnJlc309YXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCdhcGkvYXJpdGNsZS9pbmRleCcse3BhcmFtczp0aGlzLnF1ZXJ5SW5mb30pCiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhPXJlcy5kYXRhCiAgICAgICAgICAgIHRoaXMudG90YWw9cmVzLnRvdGFsCiAgICAgICAgfSwKICAgICAgICBhc3luYyBkZWwoaWQpewogICAgICAgICAgICBpZihjb25maXJtKCfnoa7lrpropoHliKDpmaTlkJfvvJ8nKSl7CiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YTpyZXN9PWF3YWl0IHRoaXMuJGF4aW9zLmdldCgnYXBpL2FyaXRjbGUvZGVsZXRlJyx7cGFyYW1zOntpZDppZH19KQogICAgICAgICAgICAgICAgaWYocmVzLmNvZGUhPT0gMClyZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICAgICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBhZGQoKXsKICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZT10cnVlCiAgICAgICAgfSwKICAgICAgICBzYXZlQXJpdGNsZSgpewogICAgICAgICAgICB0aGlzLiRyZWZzLnNhdmUudmFsaWRhdGUoYXN5bmMgdmFsaWQ9PnsKICAgICAgICAgICAgICAgIGlmKCF2YWxpZCkgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YTpyZXN9PWF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJ2FwaS9hcml0Y2xlL3NhdmUnLHRoaXMuc2F2ZWZvcm0pCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgICBpZihyZXMuY29kZSE9PTApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlPWZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLnNhdmVmb3JtLnRpdGxlPScnCiAgICAgICAgICAgICAgICB0aGlzLnNhdmVmb3JtLmNvbnRlbnQ9JycKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2F2ZS5yZXNldEZpZWxkcygpCiAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICBlZGl0KGluZm8pewogICAgICAgICAgICB0aGlzLmVkaXRkaWFsb2dGb3JtVmlzaWJsZT10cnVlCiAgICAgICAgICAgIHRoaXMuZWRpdGZvcm1zLmlkPWluZm8uaWQKICAgICAgICAgICAgdGhpcy5lZGl0Zm9ybXMudGl0bGU9aW5mby50aXRsZQogICAgICAgICAgICB0aGlzLmVkaXRmb3Jtcy5jb250ZW50PWluZm8uY29udGVudAogICAgICAgICAgICB0aGlzLmVkaXRmb3Jtcy5zb3J0PWluZm8uc29ydAogICAgICAgICAgICB0aGlzLmVkaXRmb3Jtcy5zdGF0dXM9aW5mby5zdGF0dXMKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2VkaXRAQEAnLGluZm8pCiAgICAgICAgfSwKCiAgICAgICAgZWRpdHMoaW5mbyxyZXNldCl7CiAgICAgICAgICAgIGlmKCFyZXNldCkgcmV0dXJuIHRoaXMuZWRpdGRpYWxvZ0Zvcm1WaXNpYmxlPWZhbHNlCiAgICAgICAgICAgIHRoaXMuZWRpdChpbmZvKQogICAgICAgICAgICB0aGlzLmVkaXRBcml0Y2xlKCkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGVkaXRBcml0Y2xlKCl7CiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YTpyZXN9PWF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJ2FwaS9hcml0Y2xlL2VkaXQnLHRoaXMuZWRpdGZvcm1zKQogICAgICAgICAgICAgICAgaWYocmVzLmNvZGUhPT0wKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKQogICAgICAgICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRkaWFsb2dGb3JtVmlzaWJsZT1mYWxzZQoKCiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA","file":"List.vue","sourceRoot":"src/components/aritcle","sourcesContent":["<template>\r\n    <div>\r\n        <!--导航区-->\r\n        <Crumbs :cru=\"cru\"></Crumbs>\r\n\r\n        <!--卡片视图区-->\r\n        <el-card class=\"box-card\">\r\n            <!--添加与查询-->\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"6\">\r\n                    <el-input placeholder=\"请输入内容\" clearable  v-model=\"queryInfo.query\" @clear=\"getUserList\" class=\"input-with-select\">\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <el-button type=\"primary\" @click=\"add\">新增</el-button>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <!--数据表格-->\r\n            <el-table :data=\"tableData\" border style=\"width: 100%;margin-top: 10px;\">\r\n                <el-table-column\r\n                        prop=\"create_time\"\r\n                        label=\"创建日期\"\r\n                        width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"title\"\r\n                        label=\"标题\"\r\n                        width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sort\"\r\n                        label=\"排序\"\r\n                        width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"content\"\r\n                        label=\"内容\">\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\"  width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"primary\" size=\"mini\" @click=\"edit(scope.row)\">编辑</el-button>\r\n                        <el-button type=\"danger\" size=\"mini\" @click=\"del(scope.row.id)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!--分页-->\r\n            <Page :query=\"queryInfo\" :total=\"total\" :pages=\"pages\" :pageSizes=\"pageSizes\"></Page>\r\n            <!--新增弹窗-->\r\n            <el-dialog title=\"添加文章\" :visible.sync=\"dialogFormVisible\" >\r\n                <el-form :model=\"saveform\" :rules=\"saverules\" ref=\"save\">\r\n                    <el-form-item label=\"文章标题\" :label-width=\"formLabelWidth\" prop=\"title\">\r\n                        <el-input v-model=\"saveform.title\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"文章排序\" :label-width=\"formLabelWidth\">\r\n                        <el-input v-model=\"saveform.sort\" type=\"number\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"文章状态\" :label-width=\"formLabelWidth\">\r\n                        <el-radio v-model=\"saveform.status\" :label=\"1\">启用</el-radio>\r\n                        <el-radio v-model=\"saveform.status\" :label=\"0\">禁用</el-radio>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"文章内容\" :label-width=\"formLabelWidth\" prop=\"content\">\r\n                        <el-input v-model=\"saveform.content\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"saveAritcle\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n\r\n            <!--编辑弹窗-->\r\n            <el-dialog title=\"编辑文章\" :visible.sync=\"editdialogFormVisible\" >\r\n                <Edit :editdialogFormVisible=\"editdialogFormVisible\" :editforms=\"editforms\" :edits=\"edits\" :formLabelWidth=\"formLabelWidth\"></Edit>\r\n            </el-dialog>\r\n\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Page from '../common/Page'\r\n    import Crumbs from '../common/Crumbs'\r\n    import Edit from './Edit'\r\n    export default {\r\n        name: \"List\",\r\n        components:{Page,Crumbs,Edit},\r\n        created(){\r\n            this.getUserList()\r\n        },\r\n        data(){\r\n            return {\r\n                // 分页搜索数据\r\n                queryInfo:{\r\n                    query:'',\r\n                    page:1,\r\n                    limit:5\r\n                },\r\n                pageSizes:[1,5,10,20],\r\n                tableData: [],\r\n                total:0,\r\n\r\n                // 面包屑导航数据\r\n                cru:['文章管理','文章列表'],\r\n\r\n                dialogFormVisible:false,\r\n                // 编辑\r\n                editdialogFormVisible:false,\r\n                formLabelWidth:'100px',\r\n                editforms:{\r\n                    id:0,\r\n                    title:'',\r\n                    content:'',\r\n                    sort:1,\r\n                    status:1\r\n                },\r\n\r\n\r\n                saveform:{\r\n                    title:'',\r\n                    content:'',\r\n                    sort:1,\r\n                    status:1\r\n                },\r\n\r\n                saverules: {\r\n                    title: [\r\n                        {required: true, message: '标题不能为空', trigger: 'blur'},\r\n                    ],\r\n                    content: [\r\n                        {required: true, message: '内容不能为空', trigger: 'change'}\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            // 分页调用\r\n            pages(info){\r\n                this.queryInfo.limit=info.limit\r\n                this.queryInfo.page=info.page\r\n                this.getUserList()\r\n            },\r\n\r\n            search(){\r\n                this.getUserList()\r\n            },\r\n            async getUserList(){\r\n              const {data:res}=await this.$axios.get('api/aritcle/index',{params:this.queryInfo})\r\n                this.tableData=res.data\r\n                this.total=res.total\r\n            },\r\n            async del(id){\r\n                if(confirm('确定要删除吗？')){\r\n                    const {data:res}=await this.$axios.get('api/aritcle/delete',{params:{id:id}})\r\n                    if(res.code!== 0)return this.$message.error(res.msg)\r\n                    this.$message.success('删除成功')\r\n                    this.getUserList()\r\n                }else{\r\n                    return false\r\n                }\r\n\r\n            },\r\n            add(){\r\n                this.dialogFormVisible=true\r\n            },\r\n            saveAritcle(){\r\n                this.$refs.save.validate(async valid=>{\r\n                    if(!valid) return false\r\n                    const {data:res}=await this.$axios.post('api/aritcle/save',this.saveform)\r\n                    // console.log(res)\r\n                    if(res.code!==0) return this.$message.error(res.msg)\r\n                    this.$message.success('添加成功')\r\n                    this.dialogFormVisible=false\r\n                    this.saveform.title=''\r\n                    this.saveform.content=''\r\n                    this.$refs.save.resetFields()\r\n                    this.getUserList()\r\n                })\r\n            },\r\n\r\n            edit(info){\r\n                this.editdialogFormVisible=true\r\n                this.editforms.id=info.id\r\n                this.editforms.title=info.title\r\n                this.editforms.content=info.content\r\n                this.editforms.sort=info.sort\r\n                this.editforms.status=info.status\r\n                // console.log('edit@@@',info)\r\n            },\r\n\r\n            edits(info,reset){\r\n                if(!reset) return this.editdialogFormVisible=false\r\n                this.edit(info)\r\n                this.editAritcle()\r\n            },\r\n            async editAritcle(){\r\n                    const {data:res}=await this.$axios.post('api/aritcle/edit',this.editforms)\r\n                    if(res.code!==0) return this.$message.error(res.msg)\r\n                    this.$message.success('修改成功')\r\n                    this.getUserList()\r\n                    this.editdialogFormVisible=false\r\n\r\n\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}