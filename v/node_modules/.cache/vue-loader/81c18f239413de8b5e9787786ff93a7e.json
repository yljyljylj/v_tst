{"remainingRequest":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\src\\views\\admin\\Addform.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\src\\views\\admin\\Addform.vue","mtime":1639458145978},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639036037315},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\babel-loader\\lib\\index.js","mtime":1639036038164},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639036037315},{"path":"D:\\phpstudy_pro\\WWW\\1209\\v_tst\\v\\node_modules\\vue-loader\\lib\\index.js","mtime":1639036038372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJBZGRmb3JtIiwKICAgIHByb3BzOlsnYWRkX2RpYWxvZycsJ2Zvcm0nXSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGU6dGhpcy5hZGRfZGlhbG9nLAogICAgICAgICAgICBmb3JtTGFiZWxXaWR0aDogJzE4MHB4JywKICAgICAgICAgICAgZ3JvdXBMaXN0OltdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFzeW5jIGdldExpc3QoKXsKICAgICAgICAgICAgY29uc3Qge2RhdGE6cmVzfT1hd2FpdCB0aGlzLiRheGlvcy5nZXQoJ2FwaS9hZG1pbi9nZXRMaXN0JykKICAgICAgICAgICAgdGhpcy5ncm91cExpc3Q9cmVzLmRhdGEKICAgICAgICB9LAogICAgICAgIGFzeW5jIGFkZEFkbWluKCl7CiAgICAgICAgICAgIGlmKHRoaXMuZm9ybS51c2VybmFtZT09JycgfHwgdGhpcy5mb3JtLnVzZXJuYW1lPT1udWxsIHx8IHRoaXMuZm9ybS51c2VybmFtZT09dW5kZWZpbmVkKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6KeS6Imy5ZCN56ew5LiN6IO95Li656m6JykKICAgICAgICAgICAgaWYodGhpcy5mb3JtLnBhc3N3b3JkPT0nJyB8fCB0aGlzLmZvcm0ucGFzc3dvcmQ9PW51bGwgfHwgdGhpcy5mb3JtLnBhc3N3b3JkPT11bmRlZmluZWQpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfop5LoibLlr4bnoIHkuI3og73kuLrnqbonKQogICAgICAgICAgICBjb25zdCB7ZGF0YTpyZXN9PWF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJ2FwaS9hZG1pbi9hZGQnLHRoaXMuZm9ybSkKICAgICAgICAgICAgaWYocmVzLmNvZGUhPT0wKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpCiAgICAgICAgICAgIHRoaXMucmVzZXRBZGREaWFsb2codHJ1ZSkKICAgICAgICB9LAogICAgICAgIHJlc2V0QWRkRGlhbG9nKGUpewogICAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VEaWFsb2cnLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIG9wZW5EaWFsb2c6IGZhbHNlCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VEaWFsb2cnLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICBvcGVuRGlhbG9nOiBmYWxzZQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Addform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Addform.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div>\r\n        <el-dialog title=\"添加用户\" :visible.sync=\"dialogVisible\">\r\n            <el-form :model=\"form\" ref=\"saveForm\">\r\n                <el-form-item label=\"用户名\" :label-width=\"formLabelWidth\" prop=\"username\"\r\n                              :rules=\"[{ required: true, message: '用户名称不能为空'},]\">\r\n                    <el-input v-model.trim=\"form.username\" autocomplete=\"off\" ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密 码\" :label-width=\"formLabelWidth\" prop=\"password\"\r\n                              :rules=\"[{ required: true, message: '用户密码不能为空'},]\">\r\n                    <el-input type=\"password\" v-model.trim=\"form.password\" autocomplete=\"off\" ></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"角 色\" :label-width=\"formLabelWidth\">\r\n                    <el-select v-model=\"form.groupid\" placeholder=\"请选择用户角色\">\r\n                        <el-option v-for=\"list in groupList\" :label=\"list.name\" v-if=\"list.rules!='#'\" :value=\"list.id\" :key=\"list.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"用户状态\" :label-width=\"formLabelWidth\">\r\n                    <el-radio v-model=\"form.status\" :label=\"1\">启用</el-radio>\r\n                    <el-radio v-model=\"form.status\" :label=\"0\">禁用</el-radio>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"resetAddDialog(false)\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addAdmin\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Addform\",\r\n        props:['add_dialog','form'],\r\n        created(){\r\n            this.getList()\r\n        },\r\n        data(){\r\n            return{\r\n                dialogVisible:this.add_dialog,\r\n                formLabelWidth: '180px',\r\n                groupList:[]\r\n            }\r\n        },\r\n        methods:{\r\n            async getList(){\r\n                const {data:res}=await this.$axios.get('api/admin/getList')\r\n                this.groupList=res.data\r\n            },\r\n            async addAdmin(){\r\n                if(this.form.username=='' || this.form.username==null || this.form.username==undefined) return this.$message.error('角色名称不能为空')\r\n                if(this.form.password=='' || this.form.password==null || this.form.password==undefined) return this.$message.error('角色密码不能为空')\r\n                const {data:res}=await this.$axios.post('api/admin/add',this.form)\r\n                if(res.code!==0) return this.$message.error(res.msg)\r\n                this.$message.success('添加成功')\r\n                this.resetAddDialog(true)\r\n            },\r\n            resetAddDialog(e){\r\n                if (e) {\r\n                    this.$emit('closeDialog', {\r\n                        type: 'success',\r\n                        openDialog: false\r\n                    })\r\n                } else {\r\n                    this.$emit('closeDialog', {\r\n                        type: 'error',\r\n                        openDialog: false\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}